    <div style="display:flex; justify-content:flex-end; margin-bottom: 20px;">
        <div class="tech-controls">
            <button class="btn" onclick="toggleAll('domain', true)">‚ûï Expandir Dom√≠nios</button>
            <button class="btn" onclick="toggleAll('domain', false)">‚ûñ Recolher Dom√≠nios</button>
            <button class="btn" onclick="toggleAll('group', true)">‚ûï Expandir Grupos</button>
            <button class="btn" onclick="toggleAll('group', false)">‚ûñ Recolher Grupos</button>
        </div>
    </div>
        <details class="section-details" style="margin-top: 20px; border-left: 4px solid var(--accent-primary);">
            <summary style="font-size: 1.1rem; font-weight: 600;">üìã Testes DNS TCP e DNS SEC</summary>
            <div style="padding: 20px;">
                <p style="color:var(--text-secondary); margin-bottom:15px; font-size:0.9rem;">
                    Valida√ß√£o de recursos avan√ßados (Transporte TCP e Assinatura DNSSEC) para cada servidor consultado.
                </p>
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>Alvo Check</th>
                                <th>Servidor</th>
                                <th>TCP Status</th>
                                <th>DNSSEC Status</th>
                            </tr>
                        </thead>
                        <tbody>
<tr><td><strong>google.com</strong> (iterative)</td><td>GOOGLE / 8.8.8.8</td><td><span class='badge-mini success'>OK</span></td><td><span class='badge-mini neutral'>ABS</span></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </details>
        <div style="display:none;">
</div>
        <details class="section-details" style="margin-top: 40px; border-left: 4px solid #64748b;">
            <summary style="font-size: 1.1rem; font-weight: 600;">üìö Manual de Refer√™ncia (Help)</summary>
            <div class="modal-body" style="background: #1e293b; color: #cbd5e1; padding: 20px; font-family: 'Fira Code', monospace; font-size: 0.85rem; overflow-x: auto;">
                <pre style="white-space: pre-wrap;">[H[2J[3J==============================================================================
       üîç DIAGN√ìSTICO DNS AVAN√áADO - MANUAL DE REFER√äNCIA v9.17        
==============================================================================

DESCRI√á√ÉO GERAL:
  Esta ferramenta √© um auditor de infraestrutura DNS projetado para validar a
  confiabilidade, consist√™ncia e performance de servidores autoritativos e recursivos.

  O script executa uma bateria de testes para cada dom√≠nio alvo contra um grupo de
  servidores DNS definidos, identificando:
   1. Disponibilidade: Se os servidores est√£o alcan√ß√°veis (ICMP/TCP).
   2. Consist√™ncia: Se m√∫ltiplos servidores retornam a mesma resposta (SOAs, IPs).
   3. Estabilidade: Se a resposta varia ao longo de m√∫ltiplas consultas (Flapping).
   4. Features: Suporte a TCP (obrigat√≥rio RFC 7766) e valida√ß√£o DNSSEC.
   5. Performance: Lat√™ncia de resposta e perda de pacotes.

MODOS DE OPERA√á√ÉO:
  Modo Interativo (Padr√£o): Um wizard guia a configura√ß√£o das vari√°veis antes do in√≠cio.
  Modo Silencioso (-y): Executa imediatamente usando os valores padr√£o ou editados no script.

OP√á√ïES DE LINHA DE COMANDO:
  -n &lt;arquivo&gt;   Define arquivo CSV de dom√≠nios (Padr√£o: domains_tests.csv)
  -g &lt;arquivo&gt;   Define arquivo CSV de grupos DNS (Padr√£o: dns_groups.csv)
  -y            Bypassa o menu interativo (Non-interactive/Batch execution).
  -s            Modo Simplificado (Gera HTML sem logs t√©cnicos para redu√ß√£o de tamanho).
  -h            Exibe este manual detalhado.

DICION√ÅRIO DE VARI√ÅVEIS (Configura√ß√£o Fina):
  Abaixo est√£o as vari√°veis que controlam o comportamento do motor de testes.
  Elas podem ser ajustadas editando o cabe√ßalho do script ou via menu interativo.

  TIMEOUT
      Define o tempo m√°ximo (em segundos) que o script aguarda por respostas de rede.
      Afeta pings, traceroutes e consultas DIG. Se um servidor levar mais que isso,
      ser√° marcado como TIMEOUT/DOWN.

  CONSISTENCY_CHECKS (Padr√£o: 10)
      Define quantas vezes a MESMA consulta ser√° repetida para o MESMO servidor.
      Se o servidor responder IPs diferentes nessas N tentativas, ele √© marcado como
      DIVERGENTE (~). Isso pega balanceamentos Round-Robin mal configurados.

  SLEEP (Padr√£o: 0.05s)
      Pausa entre cada tentativa do loop de consist√™ncia. Aumente se o firewall
      do alvo estiver bloqueando as requisi√ß√µes por rate-limit.

  STRICT_IP_CHECK (true/false)
      true: Exige que o IP de resposta seja ID√äNTICO em todas as tentativas.
      false: Aceita IPs diferentes (√∫til para CDNs ou pools de balanceamento).

  STRICT_ORDER_CHECK (true/false)
      true: A ordem dos registros (ex: NS1 antes de NS2) deve ser id√™ntica.
      false: A ordem √© ignorada, desde que o conte√∫do seja o mesmo.

  STRICT_TTL_CHECK (true/false)
      true: Considera erro se o TTL mudar entre consultas (ex: 300 -&gt; 299).
      false: Ignora varia√ß√µes de TTL (Comportamento recomendado para recursivos).

  ENABLE_PING / PING_COUNT / PING_TIMEOUT
      M√≥dulo de lat√™ncia ICMP. Executa N pings antes dos testes DNS para verificar
      a sa√∫de b√°sica da rota e perda de pacotes.

  CHECK_BIND_VERSION
      Tenta extrair a vers√£o do software DNS usando consultas CHAOS TXT.
      (Geralmente bloqueado por seguran√ßa em servidores de produ√ß√£o).

LEGENDA DE SA√çDA (O que significam os s√≠mbolos?):
  . (Ponto)      = Sucesso (Resposta consistente e v√°lida).
  ! (Exclama√ß√£o)= Alerta (Sucesso, mas servidor lento ou resposta estranha).
  ~ (Til)       = Diverg√™ncia (O servidor mudou a resposta durante o teste).
  x (Xis)        = Falha Cr√≠tica (Timeout, Erro de Conex√£o, REFUSED).
  T / T        = Status do Teste TCP (Falha/Sucesso).
  D / D        = Status do Teste DNSSEC (Falha/Sucesso).

==============================================================================</pre>
            </div>
        </details>
        <footer>
            Gerado automaticamente por <strong>DNS Diagnostic Tool (v9.17)</strong><br>
        </footer>
    </div>
    <a href="#top" style="position:fixed; bottom:20px; right:20px; background:var(--accent-primary); color:white; width:40px; height:40px; border-radius:50%; display:flex; align-items:center; justify-content:center; text-decoration:none; box-shadow:0 4px 10px rgba(0,0,0,0.3); font-size:1.2rem;">‚¨ÜÔ∏è</a>
    <script>
        document.getElementById('total_time_placeholder').innerText = "14s";
    </script>
</body>
</html>
